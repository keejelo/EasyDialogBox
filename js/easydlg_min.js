/*
* EasyDialogBox, version: 1.735.12 (minified), created by: keejelo, year: 2020-2021
* GitHub: https://github.com/keejelo/EasyDialogBox
* Comment: Crossbrowser, legacy browser support as much as possible.
*/
var EasyDialogBox=(function(){'use strict';var J=false;var g='Close';var j='Yes';var h='No';var i='OK';var f='Cancel';var I=0;var M=1;var K=2;var L=3;var H=4;var F=['dlg','dlg-close','dlg-prompt','dlg-yes','dlg-no','dlg-yes-no','dlg-ok','dlg-cancel','dlg-ok-cancel','dlg-disable-heading','dlg-disable-footer','dlg-disable-btns','dlg-disable-overlay','dlg-disable-drag','dlg-info','dlg-question','dlg-error','dlg-success','dlg-exclamation','dlg-rounded','dlg-shadow'];var d=[];var x=0;var e=false;if(window.NodeList&&  !NodeList.prototype.forEach){NodeList.prototype.forEach= Array.prototype.forEach};var v=function(N){if(J){return console.log(N)}};var z=function(N){return parseInt(N,10)};var G=function(N){return N.replace(/^\s+|\s+$/g,'')};var c=function(T,P,Q,O){if( typeof T.addEventListener!= 'undefined'){T.addEventListener(P,Q,O)}else {if( typeof T.attachEvent!= 'undefined'){var R=P+ Q;T['e'+ R]= Q;T[R]= function(U){if( typeof U== 'undefined'){U= window.event};T['e'+ R](U)};T.attachEvent('on'+ P,T[R])}else {P= 'on'+ P;if( typeof T[P]== 'function'){var S=T[P];T[P]= function(){S();return Q()}}else {T[P]= Q}}}};var m=function(T,P,Q,O){if( typeof T.removeEventListener!= 'undefined'){T.removeEventListener(P,Q,O)}else {if( typeof T.detachEvent!= 'undefined'){var R=P+ Q;T.detachEvent('on'+ P,T[R]);T['e'+ R]= null;T[R]= null}else {T['on'+ P]= null}}};var E=function(U){if( typeof U.stopPropagation!= 'undefined'){U.stopPropagation()}else {U.cancelBubble= true}};var D=function(U){if( typeof U.preventDefault!= 'undefined'){U.preventDefault()}else {U.returnValue= false}};var r=function(W,V){var X= new RegExp('(^|\\s)'+ V+ '(\\s|$)');return X.test(W.className)};var a=function(W,V){if(!(r(W,V))){if(W.className== ''){W.className= V}else {W.className+= ' '+ V}}};var y=function(W,V){if(r(W,V)){var Z= new RegExp('(^|\\s)'+ V+ '(\\s|$)'),Y=W.className.replace(Z,' ');W.className= Y.replace(/^\s+|\s+$/g,'')}};var q=function(ba,bc){for(var bb=0;bb< ba.length;bb++){if(ba[bb].id=== bc){return ba[bb]}};return null};var w=function(ba,N,bd,bg){var bh=N;if(bd=== true){if( typeof bg=== 'undefined'){bg= ' '};bh= N.split(bg)};var bf=0;for(var bb=0;bb< bh.length;bb++){for(var be=0;be< ba.length;be++){if(ba[be]=== bh[bb]){bf++}}};if(bh.length=== bf){return true};return false};var A=function(N){N= N.replace(/[^a-z0-9@£#\s\,._-æøåäö-]/gi,'');return N};var o=function(N){N= N.replace(/^\s+|\s+$/g,'');N= N.replace(/&/g,'&amp;');N= N.replace(/'/g,'&#39;');N= N.replace(/"/g,'&quot;');N= N.replace(/</g,'&lt;');N= N.replace(/>/g,'&gt;');return N};var t=function(N){return String(N).replace(/[^\w. ]/gi,function(bi){return '&#'+ bi.charCodeAt(0)+ ';'})};var b=function(bj){var W=document.getElementById(bj);if(W){var bl=window.innerHeight|| document.documentElement.clientHeight|| document.body.clientHeight;if(z(W.offsetHeight+ W.customPosY)>= bl){W.style.top= '0';W.style.marginTop= '0';W.style.marginBottom= '0';W.style.height= '';W.style.maxHeight= '';W.style.borderTopWidth= '0';W.style.borderBottomWidth= '0'}else {if(!W.customPosY){W.style.top= ((bl/ 2)- (W.offsetHeight/ 2))+ 'px'}else {W.style.top= W.customPosY+ 'px'};if(W.customHeight){W.style.height= W.customHeight+ 'px'};W.style.borderTopWidth= '';W.style.borderBottomWidth= ''};var bm=window.innerWidth|| document.documentElement.clientWidth|| document.body.clientWidth;var bk=40;if(z(W.offsetWidth+ W.customPosX+ bk)>= bm){W.style.left= '0';W.style.marginLeft= '0';W.style.marginRight= '0';W.style.width= '';W.style.maxWidth= '';W.style.borderLeftWidth= '0';W.style.borderRightWidth= '0'}else {if(!W.customPosX){W.style.left= ((bm/ 2)- (W.offsetWidth/ 2))+ 'px'}else {W.style.left= W.customPosX+ 'px'};if(W.customWidth){W.style.maxWidth= W.customWidth+ 'px'};W.style.borderLeftWidth= '';W.style.borderRightWidth= ''}}};var p=function(bo,N){if(N=== undefined||  typeof N=== 'undefined'|| N=== ''|| N=== 0|| N=== null){return document.getElementById(bo+ '_1')}else {if(N.indexOf('#')!=  -1){N= G(N);if(N.indexOf(' ')!=  -1){var bn=N.split(' ')[0];N= N.replace(bn,'');N= G(N);if(document.querySelector(bn)){return document.querySelector(bn).querySelectorAll(N)}else {if(document.querySelector(bn+ '_0_1')){return document.querySelector(bn+ '_0_1').querySelectorAll(N)}};v('DEBUG: _getEl(): element cannot be found, return: null');return null}else {return document.querySelector(N)}}else {return document.getElementById(bo).querySelectorAll(N)}}};var B=function(){var bp=document.getElementsByTagName('body')[0];x= window.getComputedStyle(bp,null).getPropertyValue('padding-right');x= z(x);var bq=bp.offsetWidth;a(bp,'dlg-stop-scrolling');var br=bp.offsetWidth;var bs=br- bq;if( typeof x=== 'number'&& x> 0){bs+= z(x)};bp.setAttribute('style','padding-right:'+ bs+ 'px;')};var C=function(bo){var bu=q(d,bo);if(bu=== null){v('DEBUG: show(): error, object do not exist!');return false};if(bu!== null&& bu.bHidden== true){B();var bt=document.getElementById(bu.id);if(!(r(bt,'dlg-disable-drag'))){n.init(bu.id+ '_1')};bt.style.display= 'block';document.getElementById(bu.id+ '_1').style.visibility= 'visible';bu.bVisible= true;bu.onShow();if(e){b(bu.id+ '_1')};v('DEBUG: show(): executed');return true};return false};var s=function(bo,bv){var bx=document.getElementById(bo);var bw=document.getElementById(bo+ '_1');if(bx&& bw){bx.style.display= 'none';bw.style.visibility= 'hidden'};var bu=q(d,bo);bu.bHidden= true;bu.bVisible= false;var bp=document.getElementsByTagName('body')[0];y(bp,'dlg-stop-scrolling');bp.setAttribute('style','padding-right:'+ z(x)+ 'px;');if(bu.x!== null){bu.x= parseInt(bw.style.left,10)};if(bu.y!== null){bu.y= parseInt(bw.style.top,10)};if(bv=== undefined||  typeof bv== 'undefined'|| bv== false){bu.onHide()};e= false};var l=function(bo){var bA=false;var bp=document.getElementsByTagName('body')[0];y(bp,'dlg-stop-scrolling');bp.setAttribute('style','padding-right:'+ z(x)+ 'px;');var bx=document.getElementById(bo);if(bx){bx.style.display= 'none'};if(bx){var bz=bx.querySelectorAll('.dlg-input-field');if(bz.length!= 0){bz[0].onkeyup= null;bz[0].onchange= null}};if(bx){bx.parentNode.removeChild(bx);var bu=q(d,bo);bu.onDestroy();bu.bExistInDOM= false;bu.bVisible= false;bu.bKeepAlive= false;if(!bu.bKeepAlive){var by=d.indexOf(bu);if(by>  -1){setTimeout(function(){var bB=d.splice(by,1);if(bB.length=== 1){bA= true;v('DEBUG: destroy(): obj.bKeepAlive = false | Object deleted from array')}else {bA= false;v('DEBUG: destroy(): Error! obj.bKeepAlive = false | But object NOT deleted from array!')}},10)}else {v('DEBUG: destroy(): Error, object not found in array!');bA= false}}else {if(bu.bKeepAlive){v('DEBUG: destroy(): obj.bKeepAlive = true | Object not deleted from array');bA= false}}};return bA};var k=function(bc,cm,cl,ck,bU,cr,cu,co,bW){var bT=q(d,bc+ '_0');if(bT){v('DEBUG: create(): new object not created! An object with same ID already exist! Existing object returned');return bT};var cb=w(F,cm,true);if(cb=== true){if(bc=== ''||  typeof bc=== 'undefined'|| bc=== null|| bc=== 0){bc= Math.random().toString(36).substr(2,9)};bc+= '_0';if( typeof bU=== 'undefined'){bU= false};var bu={id:bc,strTypeClass:cm,strTitle:cl,strMessage:ck,bKeepAlive:true,strInput:'',nRetCode:-1,x:cr,y:cu,w:co,h:bW,bVisible:false,bExistInDOM:false,bHidden:false,el:null,callback:function(cx,cy){try{if( typeof cx=== 'undefined'){cx= this.nRetCode};if( typeof cy=== 'undefined'){cy= this.strInput};if( typeof window[bU]=== 'function'){window[bU](cx,cy)}else {if( typeof bU=== 'function'){bU(cx,cy)}else {if(bU=== false|| bU=== 0){return false}else {v('\x0A\x0ADEBUG: typeof fnCallback = '+  typeof bU+ ' and not a function.');v('       Scope? Possible solution can be to use \"hoisting\".');v('       Try to use \"var callbackFuncName = function(a,b){}\" instead of \"let callbackFuncName = function(a,b){}\"');v('       ..or declare the callback function before the module \"EasyDialogBox\" is initialized');v('       If the dialogbox do not use a callback function, you can ignore the above messages.\x0A\x0A')}}}}catch(err){v('CALLBACK: Error! '+ err)}},show:function(){return C(this.id)},hide:function(bv){return s(this.id,bv)},destroy:function(){return l(this.id)},onCreate:function(){v('DEBUG: Default \"obj.onCreate()\" function fired. Override this by creating your own.')},onShow:function(){v('DEBUG: Default \"obj.onShow()\" function fired. Override this by creating your own.')},onHide:function(){v('DEBUG: Default \"obj.onHide()\" function fired. Override this by creating your own.')},onClose:function(){v('DEBUG: Default \"obj.onClose()\" function fired. Override this by creating your own.')},onDestroy:function(){v('DEBUG: Default \"obj.onDestroy()\" function fired. Override this by creating your own.')},$:function(N){return p(this.id,N)}};d.push(bu);bu= q(d,bc);if(bu=== null){bc+= '_0';bu= q(d,bc)};var bp=document.getElementsByTagName('body')[0];var bx=document.createElement('div');bx.setAttribute('id',bu.id);bx.setAttribute('class',bu.strTypeClass);bp.appendChild(bx);cb= null;if(bx){cb= w(F,bu.strTypeClass,true)};if(bx&& (cb=== true)){bx.style.display= 'block';var bw=document.createElement('div');bw.setAttribute('id',bu.id+ '_1');bw.setAttribute('class','dlg-box');bw.customPosX= 0;bw.customPosY= 0;bw.customHeight= 0;bw.customWidth= 0;if(bu.x){bw.style.left= z(bu.x)+ 'px';bw.customPosX= z(bu.x)};if(bu.y){bw.style.top= z(bu.y)+ 'px';bw.customPosY= z(bu.y)};if(bu.w){bw.style.maxWidth= z(bu.w)+ 'px';bw.customWidth= z(bu.w)};if(bu.h){bw.style.height= z(bu.h)+ 'px';bw.customHeight= z(bu.h)};bx.appendChild(bw);if(r(bx,'dlg-rounded')){a(bw,'dlg-rounded')};if(r(bx,'dlg-shadow')){a(bw,'dlg-shadow')};if(!(r(bx,'dlg-disable-heading'))){var bX=document.createElement('div');bX.setAttribute('id',bu.id+ '_1_heading');bX.setAttribute('class','dlg-heading');bw.appendChild(bX);var bR=document.createElement('span');bR.setAttribute('class','dlg-close-x');var bQ=document.createTextNode(' \xD7 ');bR.appendChild(bQ);bX.appendChild(bR);var cn=document.createTextNode(bu.strTitle);bX.appendChild(cn)};var cc=document.createElement('div');var ca=null;var cj=null;if(r(bx,'dlg-info')|| r(bx,'dlg-question')|| r(bx,'dlg-error')|| r(bx,'dlg-success')|| r(bx,'dlg-exclamation')){cc.setAttribute('class','dlg-message dlg-flex-container');if(bw.customHeight){cc.style.height= z(bu.h- 101)+ 'px'};ca= document.createElement('div');ca.setAttribute('class','dlg-flexbox-left');if(r(bx,'dlg-info')){ca.innerHTML= '<div class=\"dlg-symbol dlg-icon-info\"></div>'}else {if(r(bx,'dlg-question')){ca.innerHTML= '<div class=\"dlg-symbol dlg-icon-question\"></div>'}else {if(r(bx,'dlg-error')){ca.innerHTML= '<div class=\"dlg-symbol dlg-icon-error\"></div>'}else {if(r(bx,'dlg-success')){ca.innerHTML= '<div class=\"dlg-symbol dlg-icon-success\"></div>'}else {if(r(bx,'dlg-exclamation')){ca.innerHTML= '<div class=\"dlg-symbol dlg-icon-excl\"></div>'}}}}};cc.appendChild(ca);cj= document.createElement('div');cj.setAttribute('class','dlg-flexbox-right');cj.innerHTML= bu.strMessage;cc.appendChild(cj)}else {cc.setAttribute('class','dlg-message');cc.innerHTML= bu.strMessage;if(bw.customHeight){cc.style.height= z(bu.h- 130)+ 'px'}};bw.appendChild(cc);if(r(bx,'dlg-prompt')){var bZ=document.createElement('div');bZ.setAttribute('class','dlg-input');if(r(cc,'dlg-flex-container')){cj.appendChild(bZ)}else {cc.appendChild(bZ)};var bY=document.createElement('input');bY.setAttribute('class','dlg-input-field');bY.setAttribute('type','text');bY.setAttribute('value',bu.strInput);bZ.appendChild(bY);if(!(r(bx,'dlg-ok-cancel'))){a(bx,'dlg-ok-cancel')}};if(!(r(bx,'dlg-disable-footer'))){var bV=document.createElement('div');bV.setAttribute('class','dlg-footer');bw.appendChild(bV);if(!(r(bx,'dlg-disable-btns'))){if(r(bx,'dlg-yes')|| r(bx,'dlg-yes-no')){var cv=document.createElement('button');cv.setAttribute('class','dlg-yes-btn');var cw=document.createTextNode(j);cv.appendChild(cw);bV.appendChild(cv)};if(r(bx,'dlg-no')|| r(bx,'dlg-yes-no')){var cd=document.createElement('button');cd.setAttribute('class','dlg-no-btn');var ce=document.createTextNode(h);cd.appendChild(ce);bV.appendChild(cd)};if(r(bx,'dlg-ok')|| r(bx,'dlg-ok-cancel')){var cf=document.createElement('button');cf.setAttribute('class','dlg-ok-btn');var cg=document.createTextNode(i);cf.appendChild(cg);bV.appendChild(cf)};if(r(bx,'dlg-cancel')|| r(bx,'dlg-ok-cancel')){var bM=document.createElement('button');bM.setAttribute('class','dlg-cancel-btn');var bN=document.createTextNode(f);bM.appendChild(bN);bV.appendChild(bM)};if(r(bx,'dlg-close')|| r(bx,'dlg')){var bO=document.createElement('button');bO.setAttribute('class','dlg-close-btn');var bP=document.createTextNode(g);bO.appendChild(bP);bV.appendChild(bO)}}};c(window,'resize',function cq(){e= true;if(bu.bVisible){b(bu.id+ '_1')}},false);var ct=bx.querySelector('.dlg-close-x');if(ct){c(ct,'click',function cs(){bu.hide(true);bu.callback(I);bu.nRetCode= I;bu.onClose()},false)};var bF=bx.querySelector('.dlg-close-btn');if(bF){c(bF,'click',function bE(){bu.hide(true);bu.callback(I);bu.nRetCode= I;bu.onClose()},false)};c(window,'click',function cp(cz){cz= cz|| window.event|| event;if(cz.target== bx){bu.hide(true);bu.callback(I);bu.nRetCode= I;bu.onClose()}},false);c(window,'keyup',function bS(cz){cz= cz|| window.event|| event;if(cz.which=== 27|| cz.keyCode=== 27|| cz.key=== 'Escape'|| cz.code=== 'Escape'){bu.hide(true);bu.callback(I);bu.nRetCode= I;bu.onClose();E(cz);D(cz)}},false);if(r(bx,'dlg-yes-no')|| r(bx,'dlg-yes')|| r(bx,'dlg-no')){var bL=bx.querySelector('.dlg-yes-btn');if(bL){c(bL,'click',function bK(){bu.hide(true);bu.callback(M);bu.nRetCode= M;bu.onClose()},false)};var bH=bx.querySelector('.dlg-no-btn');if(bH){c(bH,'click',function bG(){bu.hide(true);bu.callback(K);bu.nRetCode= K;bu.onClose()},false)}};if(r(bx,'dlg-ok-cancel')|| r(bx,'dlg-ok')|| r(bx,'dlg-cancel')){var bJ=bx.querySelector('.dlg-ok-btn');if(bJ){c(bJ,'click',function bI(){bu.hide(true);bu.callback(L);bu.nRetCode= L;bu.onClose()},false)};var bD=bx.querySelector('.dlg-cancel-btn');if(bD){c(bD,'click',function bC(){bu.hide(true);bu.callback(H);bu.nRetCode= H;bu.onClose()},false)}};if(r(bx,'dlg-prompt')){var bz=bx.querySelector('.dlg-input-field');if(bz){c(bz,'keyup',function ci(){bu.strInput= A(bz.value)},false);c(bz,'change',function ch(){bu.strInput= A(bz.value)},false)}};if(!(r(bx,'dlg-disable-drag'))){n.init(bw.id)};b(bw.id);if(r(bx,'dlg-prompt')){bx.querySelector('.dlg-input-field').focus()};bu.bExistInDOM= true;bu.element= document.getElementById(bw.id);bu.hide(true);bu.onCreate();v('DEBUG: create(): new object created and added to DOM');return bu}else {if(!cb){v('DEBUG: create(): Error, dialogbox type not defined or not a valid type: '+ bu.strTypeClass)}else {if(!bx){v('DEBUG: create(): Error, element id \''+ bc+ '\' do not exist!\x0AReturned value = '+ bx)}else {v('DEBUG: create(): Unknown error!')}}}}else {v('DEBUG: create(): Error, dialogbox type not defined or not a valid type: '+ cm)};return null};var u=function(){c(window,'load',function cA(){if(J){v('EasyDialogBox debug console-output is set to: ON\x0AYou can switch it OFF in the file \"easydlg.js\" by setting the variable: DEBUG = false')};var cB=document.querySelectorAll('.dlg-opener');for(var bb=0;bb< cB.length;bb++){var bx=document.getElementById(cB[bb].getAttribute('rel'));var cC=bx.getAttribute('class').replace(/\s\s+/g,' ');cC= cC.replace(/^\s+|\s+$/g,'');var bu=k(bx.getAttribute('id'),cC,bx.getAttribute('title'),bx.innerHTML,bx.getAttribute('data-callback'),bx.getAttribute('data-x'),bx.getAttribute('data-y'),bx.getAttribute('data-w'),bx.getAttribute('data-h'))};var cD=document.querySelectorAll('.dlg-opener');cD.forEach(function(cE,by){c(cE,'click',function cF(cz){cz= cz|| window.event|| event;d[by].show();this.blur();D(cz);E(cz)},false)})},false)};var n={init:function(bj){n.el= document.getElementById(bj);n.el.grabber= document.getElementById(bj+ '_heading');if(n.el.grabber=== null){n.el.grabber= n.el};n.el.style.position= 'absolute';c(n.el.grabber,'mousedown',n.start,false)},start:function(cz){cz= cz|| window.event|| event;if(cz.button=== 0){D(cz);n.el.grabber.style.cursor= 'move';n.el.posX2= cz.clientX;n.el.posY2= cz.clientY;c(document,'mouseup',n.stop,false);c(document,'mousemove',n.move,false)}},stop:function(){n.el.grabber.style.cursor= '';m(document,'mouseup',n.stop,false);m(document,'mousemove',n.move,false)},move:function(cz){cz= cz|| window.event|| event;D(cz);n.el.posX= n.el.posX2- cz.clientX;n.el.posY= n.el.posY2- cz.clientY;n.el.posX2= cz.clientX;n.el.posY2= cz.clientY;n.el.style.top= parseInt((n.el.offsetTop)- (n.el.posY))+ 'px';n.el.style.left= parseInt((n.el.offsetLeft)- (n.el.posX))+ 'px'}};return {create:function(bc,cm,cl,ck,bU,cr,cu,co,bW){return k(bc,cm,cl,ck,bU,cr,cu,co,bW)},getAll:function(){return d},getById:function(bj){return q(d,bj)},init:function(){return u()}}})();(function(){EasyDialogBox.init()})();
